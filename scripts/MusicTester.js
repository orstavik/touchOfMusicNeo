/**
 * Created by orstavik on 08.12.16.
 */

const getNameFromWheelOf5 = function(number) {
  if (number % 2 == 0)
    return MusicScale.twelveNotes[number];
  return MusicScale.twelveNotes[(number + 6) % 12];
};

const testCircleOf5A = function () {
  let circleOf5 = ["C", "G", "D", "A", "E", "B", "Gb/F#", "Db/C#", "Ab/G#", "Eb/D#", "Bb/A#", "F"];
  for (let i = 0; i < 11; i++) {

    let nameFromWheelOf5 = getNameFromWheelOf5(i);
    let expected = circleOf5[i];
    if (nameFromWheelOf5 != expected)
      return "circle of 5: " + i + " : " + nameFromWheelOf5 + " != " + expected;
  }
  return true;
};

const testCircleOf5B = function () {
  let circleOf5 = ["C", "G", "D", "A", "E", "B", "Gb/F#", "Db/C#", "Ab/G#", "Eb/D#", "Bb/A#", "F"];
  for (let i = 0; i < 11; i++) {
    let toneInScale = MusicScale.twelveNotes[i];
    let circle5Pos = MusicScale.getWheelOf5Number(toneInScale);
    if (toneInScale != circleOf5[circle5Pos])
      return "circle of 5: " + i + " : " + circleOf5[circle5Pos] + " != " + toneInScale;
  }
  return true;
};

const testModeAndMKeyMap = function () {

  let fullModeKeyMap = MusicScale.completeScaleAndModeMap();
  console.log(fullModeKeyMap);
  let expected = '{"locrian":{"C":[["C",0],["Db/C#",0],["Eb/D#",0],["F",0],["Gb/F#",0],["Ab/G#",0],["Bb/A#",0]],"Db/C#":[["Db/C#",0],["D",0],["E",0],["Gb/F#",0],["G",0],["A",0],["B",0]],"D":[["D",0],["Eb/D#",0],["F",0],["G",0],["Ab/G#",0],["Bb/A#",0],["C",1]],"Eb/D#":[["Eb/D#",0],["E",0],["Gb/F#",0],["Ab/G#",0],["A",0],["B",0],["Db/C#",1]],"E":[["E",0],["F",0],["G",0],["A",0],["Bb/A#",0],["C",1],["D",1]],"F":[["F",0],["Gb/F#",0],["Ab/G#",0],["Bb/A#",0],["B",0],["Db/C#",1],["Eb/D#",1]],"Gb/F#":[["Gb/F#",0],["G",0],["A",0],["B",0],["C",1],["D",1],["E",1]],"G":[["G",0],["Ab/G#",0],["Bb/A#",0],["C",1],["Db/C#",1],["Eb/D#",1],["F",1]],"Ab/G#":[["Ab/G#",0],["A",0],["B",0],["Db/C#",1],["D",1],["E",1],["Gb/F#",1]],"A":[["A",0],["Bb/A#",0],["C",1],["D",1],["Eb/D#",1],["F",1],["G",1]],"Bb/A#":[["Bb/A#",0],["B",0],["Db/C#",1],["Eb/D#",1],["E",1],["Gb/F#",1],["Ab/G#",1]],"B":[["B",0],["C",1],["D",1],["E",1],["F",1],["G",1],["A",1]]},"minor":{"C":[["C",0],["D",0],["Eb/D#",0],["F",0],["G",0],["Ab/G#",0],["Bb/A#",0]],"Db/C#":[["Db/C#",0],["Eb/D#",0],["E",0],["Gb/F#",0],["Ab/G#",0],["A",0],["B",0]],"D":[["D",0],["E",0],["F",0],["G",0],["A",0],["Bb/A#",0],["C",1]],"Eb/D#":[["Eb/D#",0],["F",0],["Gb/F#",0],["Ab/G#",0],["Bb/A#",0],["B",0],["Db/C#",1]],"E":[["E",0],["Gb/F#",0],["G",0],["A",0],["B",0],["C",1],["D",1]],"F":[["F",0],["G",0],["Ab/G#",0],["Bb/A#",0],["C",1],["Db/C#",1],["Eb/D#",1]],"Gb/F#":[["Gb/F#",0],["Ab/G#",0],["A",0],["B",0],["Db/C#",1],["D",1],["E",1]],"G":[["G",0],["A",0],["Bb/A#",0],["C",1],["D",1],["Eb/D#",1],["F",1]],"Ab/G#":[["Ab/G#",0],["Bb/A#",0],["B",0],["Db/C#",1],["Eb/D#",1],["E",1],["Gb/F#",1]],"A":[["A",0],["B",0],["C",1],["D",1],["E",1],["F",1],["G",1]],"Bb/A#":[["Bb/A#",0],["C",1],["Db/C#",1],["Eb/D#",1],["F",1],["Gb/F#",1],["Ab/G#",1]],"B":[["B",0],["Db/C#",1],["D",1],["E",1],["Gb/F#",1],["G",1],["A",1]]},"mixolydian":{"C":[["C",0],["D",0],["E",0],["F",0],["G",0],["A",0],["Bb/A#",0]],"Db/C#":[["Db/C#",0],["Eb/D#",0],["F",0],["Gb/F#",0],["Ab/G#",0],["Bb/A#",0],["B",0]],"D":[["D",0],["E",0],["Gb/F#",0],["G",0],["A",0],["B",0],["C",1]],"Eb/D#":[["Eb/D#",0],["F",0],["G",0],["Ab/G#",0],["Bb/A#",0],["C",1],["Db/C#",1]],"E":[["E",0],["Gb/F#",0],["Ab/G#",0],["A",0],["B",0],["Db/C#",1],["D",1]],"F":[["F",0],["G",0],["A",0],["Bb/A#",0],["C",1],["D",1],["Eb/D#",1]],"Gb/F#":[["Gb/F#",0],["Ab/G#",0],["Bb/A#",0],["B",0],["Db/C#",1],["Eb/D#",1],["E",1]],"G":[["G",0],["A",0],["B",0],["C",1],["D",1],["E",1],["F",1]],"Ab/G#":[["Ab/G#",0],["Bb/A#",0],["C",1],["Db/C#",1],["Eb/D#",1],["F",1],["Gb/F#",1]],"A":[["A",0],["B",0],["Db/C#",1],["D",1],["E",1],["Gb/F#",1],["G",1]],"Bb/A#":[["Bb/A#",0],["C",1],["D",1],["Eb/D#",1],["F",1],["G",1],["Ab/G#",1]],"B":[["B",0],["Db/C#",1],["Eb/D#",1],["E",1],["Gb/F#",1],["Ab/G#",1],["A",1]]},"lydian":{"C":[["C",0],["D",0],["E",0],["Gb/F#",0],["G",0],["A",0],["B",0]],"Db/C#":[["Db/C#",0],["Eb/D#",0],["F",0],["G",0],["Ab/G#",0],["Bb/A#",0],["C",1]],"D":[["D",0],["E",0],["Gb/F#",0],["Ab/G#",0],["A",0],["B",0],["Db/C#",1]],"Eb/D#":[["Eb/D#",0],["F",0],["G",0],["A",0],["Bb/A#",0],["C",1],["D",1]],"E":[["E",0],["Gb/F#",0],["Ab/G#",0],["Bb/A#",0],["B",0],["Db/C#",1],["Eb/D#",1]],"F":[["F",0],["G",0],["A",0],["B",0],["C",1],["D",1],["E",1]],"Gb/F#":[["Gb/F#",0],["Ab/G#",0],["Bb/A#",0],["C",1],["Db/C#",1],["Eb/D#",1],["F",1]],"G":[["G",0],["A",0],["B",0],["Db/C#",1],["D",1],["E",1],["Gb/F#",1]],"Ab/G#":[["Ab/G#",0],["Bb/A#",0],["C",1],["D",1],["Eb/D#",1],["F",1],["G",1]],"A":[["A",0],["B",0],["Db/C#",1],["Eb/D#",1],["E",1],["Gb/F#",1],["Ab/G#",1]],"Bb/A#":[["Bb/A#",0],["C",1],["D",1],["E",1],["F",1],["G",1],["A",1]],"B":[["B",0],["Db/C#",1],["Eb/D#",1],["F",1],["Gb/F#",1],["Ab/G#",1],["Bb/A#",1]]},"phrygian":{"C":[["C",0],["Db/C#",0],["Eb/D#",0],["F",0],["G",0],["Ab/G#",0],["Bb/A#",0]],"Db/C#":[["Db/C#",0],["D",0],["E",0],["Gb/F#",0],["Ab/G#",0],["A",0],["B",0]],"D":[["D",0],["Eb/D#",0],["F",0],["G",0],["A",0],["Bb/A#",0],["C",1]],"Eb/D#":[["Eb/D#",0],["E",0],["Gb/F#",0],["Ab/G#",0],["Bb/A#",0],["B",0],["Db/C#",1]],"E":[["E",0],["F",0],["G",0],["A",0],["B",0],["C",1],["D",1]],"F":[["F",0],["Gb/F#",0],["Ab/G#",0],["Bb/A#",0],["C",1],["Db/C#",1],["Eb/D#",1]],"Gb/F#":[["Gb/F#",0],["G",0],["A",0],["B",0],["Db/C#",1],["D",1],["E",1]],"G":[["G",0],["Ab/G#",0],["Bb/A#",0],["C",1],["D",1],["Eb/D#",1],["F",1]],"Ab/G#":[["Ab/G#",0],["A",0],["B",0],["Db/C#",1],["Eb/D#",1],["E",1],["Gb/F#",1]],"A":[["A",0],["Bb/A#",0],["C",1],["D",1],["E",1],["F",1],["G",1]],"Bb/A#":[["Bb/A#",0],["B",0],["Db/C#",1],["Eb/D#",1],["F",1],["Gb/F#",1],["Ab/G#",1]],"B":[["B",0],["C",1],["D",1],["E",1],["Gb/F#",1],["G",1],["A",1]]},"dorian":{"C":[["C",0],["D",0],["Eb/D#",0],["F",0],["G",0],["A",0],["Bb/A#",0]],"Db/C#":[["Db/C#",0],["Eb/D#",0],["E",0],["Gb/F#",0],["Ab/G#",0],["Bb/A#",0],["B",0]],"D":[["D",0],["E",0],["F",0],["G",0],["A",0],["B",0],["C",1]],"Eb/D#":[["Eb/D#",0],["F",0],["Gb/F#",0],["Ab/G#",0],["Bb/A#",0],["C",1],["Db/C#",1]],"E":[["E",0],["Gb/F#",0],["G",0],["A",0],["B",0],["Db/C#",1],["D",1]],"F":[["F",0],["G",0],["Ab/G#",0],["Bb/A#",0],["C",1],["D",1],["Eb/D#",1]],"Gb/F#":[["Gb/F#",0],["Ab/G#",0],["A",0],["B",0],["Db/C#",1],["Eb/D#",1],["E",1]],"G":[["G",0],["A",0],["Bb/A#",0],["C",1],["D",1],["E",1],["F",1]],"Ab/G#":[["Ab/G#",0],["Bb/A#",0],["B",0],["Db/C#",1],["Eb/D#",1],["F",1],["Gb/F#",1]],"A":[["A",0],["B",0],["C",1],["D",1],["E",1],["Gb/F#",1],["G",1]],"Bb/A#":[["Bb/A#",0],["C",1],["Db/C#",1],["Eb/D#",1],["F",1],["G",1],["Ab/G#",1]],"B":[["B",0],["Db/C#",1],["D",1],["E",1],["Gb/F#",1],["Ab/G#",1],["A",1]]},"major":{"C":[["C",0],["D",0],["E",0],["F",0],["G",0],["A",0],["B",0]],"Db/C#":[["Db/C#",0],["Eb/D#",0],["F",0],["Gb/F#",0],["Ab/G#",0],["Bb/A#",0],["C",1]],"D":[["D",0],["E",0],["Gb/F#",0],["G",0],["A",0],["B",0],["Db/C#",1]],"Eb/D#":[["Eb/D#",0],["F",0],["G",0],["Ab/G#",0],["Bb/A#",0],["C",1],["D",1]],"E":[["E",0],["Gb/F#",0],["Ab/G#",0],["A",0],["B",0],["Db/C#",1],["Eb/D#",1]],"F":[["F",0],["G",0],["A",0],["Bb/A#",0],["C",1],["D",1],["E",1]],"Gb/F#":[["Gb/F#",0],["Ab/G#",0],["Bb/A#",0],["B",0],["Db/C#",1],["Eb/D#",1],["F",1]],"G":[["G",0],["A",0],["B",0],["C",1],["D",1],["E",1],["Gb/F#",1]],"Ab/G#":[["Ab/G#",0],["Bb/A#",0],["C",1],["Db/C#",1],["Eb/D#",1],["F",1],["G",1]],"A":[["A",0],["B",0],["Db/C#",1],["D",1],["E",1],["Gb/F#",1],["Ab/G#",1]],"Bb/A#":[["Bb/A#",0],["C",1],["D",1],["Eb/D#",1],["F",1],["G",1],["A",1]],"B":[["B",0],["Db/C#",1],["Eb/D#",1],["E",1],["Gb/F#",1],["Ab/G#",1],["Bb/A#",1]]}}';

  if (expected != JSON.stringify(fullModeKeyMap))
    return "error in: MusicScale.completeScaleAndModeMap(): mode and key maps are off!";
  return true;
};

var testMyMusic = function () {
  console.log("mode and key map test: " + testModeAndMKeyMap());
  console.log("circle of 5a test: " + testCircleOf5A());
  console.log("circle of 5b test: " + testCircleOf5B());
};
