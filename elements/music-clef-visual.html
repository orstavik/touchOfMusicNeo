<link rel="import" href="music-tone-visual.html">

<dom-module id="music-clef-visual">
  <template>
    <style>
      :host {
        display: block;
        transform: rotate(-180deg);
        position: relative;
        width: 200px;
        height: 200px;
      }

      #name {
        display: block;
        transform: rotate(180deg);
        background-color: black;
        color: white;
        font-size: 12px;
        font-weight: bold;
        width: 90px;
      }

    </style>
    <template is="dom-repeat" id="flower" items="[[twelveNotesWithScale]]">
      <music-tone-visual key="[[key]]" tone="[[item.name]]" tone-seven="[[item.seven]]"></music-tone-visual>
    </template>
    <div id="name">[[key]] [[mode]]</div>
  </template>
  <script>

    class MusicClefVisual extends Polymer.Element {
      static get is() {
        return "music-clef-visual";
      }

      static get config() {
        return {
          properties: {
            mode: String,
            key: String,
            scale: Array,
            twelveNotesWithScale: {
              type: Array,
              computed: "makeMapForScale(scale)",
            }
          }
        }
      }

      makeMapForScale(scale) {
        return MusicScale.twelveNotes.map(function (note) {
          return {
            name: note,
            seven: scale ? scale.indexOf(note) : -1
          };
        });
      }
    }
    customElements.define(MusicClefVisual.is, MusicClefVisual);
  </script>
</dom-module>